// Complete Admin Integration - ÂÖ®„Éö„Éº„Ç∏ÂØæÂøúÁâà
// ================================================

// ÁÆ°ÁêÜÁîªÈù¢„ÅÆ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄÈñ¢Êï∞
function loadAdminData() {
    try {
        const adminData = localStorage.getItem('salon_data_backup');
        if (adminData) {
            return JSON.parse(adminData);
        }
        return getDefaultSalonData();
    } catch (error) {
        console.error('Admin data load error:', error);
        return getDefaultSalonData();
    }
}

// „Éá„Éï„Ç©„É´„Éà„Éá„Éº„Çø
function getDefaultSalonData() {
    return {
        "campaigns": [
            {
                "id": 1,
                "title": "ÁßãÂÜ¨ÈôêÂÆö„Ç´„É©„Éº„Ç≠„É£„É≥„Éö„Éº„É≥",
                "period": "2024Âπ¥9Êúà1Êó•„Äú11Êúà30Êó•",
                "description": "Â≠£ÁØÄÊÑü„ÅÇ„Åµ„Çå„Çã„Éà„É¨„É≥„Éâ„Ç´„É©„Éº„ÇíÁâπÂà•‰æ°Ê†º„Åß„ÅîÊèê‰æõ„ÄÇ„Éë„Éº„ÇΩ„Éä„É´„Ç´„É©„ÉºË®∫Êñ≠‰ªò„Åç„Åß„ÄÅ„ÅÇ„Å™„Åü„Å´ÊúÄÈÅ©„Å™Ëâ≤Âêà„ÅÑ„ÇíË¶ã„Å§„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                "originalPrice": 8500,
                "salePrice": 6800,
                "badge": "üî•‰∫∫Ê∞ó",
                "featured": true,
                "active": true,
                "tags": "„Ç´„É©„Éº,„Éë„Éº„ÇΩ„Éä„É´Ë®∫Êñ≠,ÊúüÈñìÈôêÂÆö",
                "image": "images_top/image_fx (5).jpg"
            }
        ],
        "news": [
            {
                "id": 1,
                "title": "Âπ¥Êú´Âπ¥Âßã„ÅÆÂñ∂Ê•≠„Å´„Å§„ÅÑ„Å¶",
                "content": "12Êúà31Êó•„Äú1Êúà3Êó•„Åæ„Åß‰ºëÊ•≠„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇÊñ∞Âπ¥„ÅØ1Êúà4Êó•„Çà„ÇäÈÄöÂ∏∏Âñ∂Ê•≠„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ",
                "publishedAt": "2024-09-17T09:00:00.000Z",
                "featured": true
            }
        ],
        "staff": [
            {
                "id": 1,
                "name": "Áî∞‰∏≠ÁæéÁ©Ç",
                "role": "‰ª£Ë°®„Çπ„Çø„Ç§„É™„Çπ„Éà / „Çµ„É≠„É≥„Ç™„Éº„Éä„Éº",
                "experience": "15",
                "bio": "15Âπ¥„ÅÆÁµåÈ®ì„ÇíÊåÅ„Å§„Éô„ÉÜ„É©„É≥„Çπ„Çø„Ç§„É™„Çπ„Éà„ÄÇ„ÅäÂÆ¢Êßò‰∏Ä‰∫∫„Å≤„Å®„Çä„ÅÆÈ≠ÖÂäõ„ÇíÊúÄÂ§ßÈôê„Å´Âºï„ÅçÂá∫„Åô„Çπ„Çø„Ç§„É´ÊèêÊ°à„ÇíÂæóÊÑè„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                "specialties": "„Ç´„ÉÉ„Éà,„Ç´„É©„Éº,„Éë„Éº„Éû",
                "rating": 4.9,
                "photo": "images_about/Image_daihyou.jpg",
                "reviews": ["„ÅÑ„Å§„ÇÇ‰∏ÅÂØß„Å´„Ç´„Ç¶„É≥„Çª„É™„É≥„Ç∞„Åó„Å¶„Åè„Çå„Åæ„Åô„ÄÇ", "ÊäÄË°ìÂäõ„ÅåÈ´ò„Åè„ÄÅÁ¥†Êïµ„Åß„Åô„ÄÇ"]
            }
        ],
        "services": [
            {
                "id": 1,
                "category": "„Ç´„ÉÉ„Éà„Éª„Çπ„Çø„Ç§„É™„É≥„Ç∞",
                "name": "„É¨„Éá„Ç£„Éº„Çπ„Ç´„ÉÉ„Éà",
                "price": 4500,
                "priceNote": "ÔΩû",
                "description": "„Ç∑„É£„É≥„Éó„Éº„Éª„Éñ„É≠„ÉºËæº„Åø„ÄÇ‰∏ÅÂØß„Å™„Ç´„Ç¶„É≥„Çª„É™„É≥„Ç∞„Åß„ÅäÂÆ¢Êßò„Å´ÊúÄÈÅ©„Å™„Çπ„Çø„Ç§„É´„Çí„ÅîÊèêÊ°à„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ",
                "features": "È™®Ê†ºË®∫Êñ≠„Å´Âü∫„Å•„Åè„Ç´„ÉÉ„Éà\n„É©„Ç§„Éï„Çπ„Çø„Ç§„É´„Ç´„Ç¶„É≥„Çª„É™„É≥„Ç∞\n„Çπ„Çø„Ç§„É™„É≥„Ç∞„Ç¢„Éâ„Éê„Ç§„Çπ"
            }
        ],
        "settings": {
            "siteName": "„Çµ„É≠„É≥Êú™Êù•",
            "primaryColor": "#B8860B",
            "contact": {
                "phone": "03-5678-9012",
                "email": "info@salon-mirai.com",
                "address": "„Äí123-4567 Êù±‰∫¨ÈÉΩÊú™Êù•Âå∫ÁæéÂÆπÁî∫1-2-3",
                "hours": "10:00„Äú20:00ÔºàÊúàÊõúÂÆö‰ºëÔºâ"
            }
        }
    };
}

// „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞
function updateHomePage() {
    const data = loadAdminData();
    console.log('üè† Updating homepage with admin data');

    // „É°„Ç§„É≥„Ç≠„É£„É≥„Éö„Éº„É≥„ÅÆÊõ¥Êñ∞
    updateMainCampaign(data);

    // „Ç≠„É£„É≥„Éö„Éº„É≥‰∏ÄË¶ß„ÅÆÊõ¥Êñ∞
    updateHomeCampaigns(data);

    // „ÅäÁü•„Çâ„Åõ„ÅÆÊõ¥Êñ∞
    updateHomeNews(data);

    // „Çπ„Çø„ÉÉ„ÉïÁ¥π‰ªã„ÅÆÊõ¥Êñ∞
    updateHomeStaff(data);

    // „Çµ„Éº„Éì„ÇπÁ¥π‰ªã„ÅÆÊõ¥Êñ∞
    updateHomeServices(data);
}

// „É°„Ç§„É≥„Ç≠„É£„É≥„Éö„Éº„É≥„Ç®„É™„Ç¢„ÅÆÊõ¥Êñ∞
function updateMainCampaign(data) {
    const campaigns = data.campaigns.filter(c => c.active);
    const featuredCampaign = campaigns.find(c => c.featured) || campaigns[0];

    if (!featuredCampaign) return;

    // „Ç≠„É£„É≥„Éö„Éº„É≥„Çª„ÇØ„Ç∑„Éß„É≥ÂÖ®‰Ωì„ÇíÊé¢„Åô
    const campaignSection = document.querySelector('.campaign-section, .main-campaign, .hero-campaign');
    if (campaignSection) {
        const titleEl = campaignSection.querySelector('h1, h2, .campaign-title');
        const descEl = campaignSection.querySelector('.campaign-description, .description');
        const priceEl = campaignSection.querySelector('.price-info, .campaign-price');

        if (titleEl) titleEl.textContent = featuredCampaign.title;
        if (descEl) descEl.textContent = featuredCampaign.description;

        if (priceEl && featuredCampaign.originalPrice) {
            priceEl.innerHTML = `
                <span class="original-price">ÈÄöÂ∏∏ ¬•${featuredCampaign.originalPrice.toLocaleString()}</span>
                <span class="sale-price">ÁâπÂà•‰æ°Ê†º ¬•${featuredCampaign.salePrice.toLocaleString()}</span>
                <span class="discount">${Math.round((1 - featuredCampaign.salePrice / featuredCampaign.originalPrice) * 100)}%OFF</span>
            `;
        }
    }
}

// „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆ„Ç≠„É£„É≥„Éö„Éº„É≥‰∏ÄË¶ßÊõ¥Êñ∞
function updateHomeCampaigns(data) {
    const campaigns = data.campaigns.filter(c => c.active).slice(0, 3);
    const container = document.querySelector('.home-campaigns, .campaigns-preview, .top-campaigns');

    if (container && campaigns.length > 0) {
        container.innerHTML = `
            <h3>üî• Ê≥®ÁõÆ„ÅÆ„Ç≠„É£„É≥„Éö„Éº„É≥</h3>
            <div class="campaign-grid">
                ${campaigns.map(campaign => `
                    <div class="campaign-item">
                        ${campaign.badge ? `<span class="badge">${campaign.badge}</span>` : ''}
                        <h4>${campaign.title}</h4>
                        <p class="period">${campaign.period}</p>
                        <p class="description">${campaign.description.substring(0, 80)}...</p>
                        ${campaign.originalPrice ? `
                            <div class="price">
                                <span class="original">¬•${campaign.originalPrice.toLocaleString()}</span>
                                <span class="sale">¬•${campaign.salePrice.toLocaleString()}</span>
                            </div>
                        ` : ''}
                        <a href="campaign.html" class="btn btn-small">Ë©≥Á¥∞„ÇíË¶ã„Çã</a>
                    </div>
                `).join('')}
            </div>
        `;
    }
}

// „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆ„ÅäÁü•„Çâ„ÅõÊõ¥Êñ∞
function updateHomeNews(data) {
    const news = data.news.slice(0, 3);
    const container = document.querySelector('.home-news, .news-preview, .latest-news');

    if (container && news.length > 0) {
        container.innerHTML = `
            <h3>üì¢ „ÅäÁü•„Çâ„Åõ</h3>
            <div class="news-list">
                ${news.map(item => `
                    <div class="news-item ${item.featured ? 'featured' : ''}">
                        <div class="news-date">${formatDate(item.publishedAt)}</div>
                        <div class="news-content">
                            <h4>${item.title}</h4>
                            <p>${item.content.substring(0, 100)}...</p>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;
    }
}

// „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆ„Çπ„Çø„ÉÉ„ÉïÁ¥π‰ªãÊõ¥Êñ∞
function updateHomeStaff(data) {
    const staff = data.staff.slice(0, 3);
    const container = document.querySelector('.home-staff, .staff-preview');

    if (container && staff.length > 0) {
        container.innerHTML = `
            <h3>üë• „Çπ„Çø„ÉÉ„ÉïÁ¥π‰ªã</h3>
            <div class="staff-grid">
                ${staff.map(member => `
                    <div class="staff-preview-item">
                        <div class="staff-image">
                            <img src="${member.photo || 'images_about/default-staff.jpg'}" alt="${member.name}" loading="lazy">
                        </div>
                        <h4>${member.name}</h4>
                        <p class="role">${member.role}</p>
                        <p class="experience">ÁµåÈ®ì${member.experience}Âπ¥</p>
                        <div class="rating">‚≠ê ${member.rating}</div>
                    </div>
                `).join('')}
            </div>
            <a href="staff.html" class="btn btn-outline">„Çπ„Çø„ÉÉ„Éï‰∏ÄË¶ß„ÇíË¶ã„Çã</a>
        `;
    }
}

// „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆ„Çµ„Éº„Éì„ÇπÁ¥π‰ªãÊõ¥Êñ∞
function updateHomeServices(data) {
    const services = data.services.slice(0, 4);
    const container = document.querySelector('.home-services, .services-preview');

    if (container && services.length > 0) {
        container.innerHTML = `
            <h3>üíÖ ‰∫∫Ê∞ó„É°„Éã„É•„Éº</h3>
            <div class="services-grid">
                ${services.map(service => `
                    <div class="service-preview-item">
                        <h4>${service.name}</h4>
                        <p class="category">${service.category}</p>
                        <div class="price">¬•${service.price.toLocaleString()}${service.priceNote || ''}</div>
                        <p class="description">${service.description.substring(0, 60)}...</p>
                    </div>
                `).join('')}
            </div>
            <a href="services.html" class="btn btn-outline">ÂÖ®„É°„Éã„É•„Éº„ÇíË¶ã„Çã</a>
        `;
    }
}

// „Ç≠„É£„É≥„Éö„Éº„É≥„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞
function updateCampaignPage() {
    const data = loadAdminData();
    const campaigns = data.campaigns.filter(c => c.active);
    console.log('üéØ Updating campaign page with admin data');

    const dynamicContainer = document.getElementById('dynamic-campaigns');
    const staticContainer = document.getElementById('static-campaigns');

    if (dynamicContainer && campaigns.length > 0) {
        if (staticContainer) staticContainer.style.display = 'none';
        dynamicContainer.style.display = 'grid';

        dynamicContainer.innerHTML = campaigns.map(campaign => `
            <div class="campaign-card ${campaign.featured ? 'featured' : ''}">
                ${campaign.badge ? `<div class="campaign-badge">${campaign.badge}</div>` : ''}
                <img src="${campaign.image || 'images_top/default.jpg'}" alt="${campaign.title}" loading="lazy">
                <div class="campaign-content">
                    <h3>${campaign.title}</h3>
                    <p class="campaign-period">${campaign.period}</p>
                    <p>${campaign.description}</p>
                    ${campaign.originalPrice ? `
                        <div class="campaign-price">
                            <span class="original-price">ÈÄöÂ∏∏ ¬•${campaign.originalPrice.toLocaleString()}</span>
                            <span class="sale-price">¬•${campaign.salePrice.toLocaleString()}</span>
                            <span class="discount">${Math.round((1 - campaign.salePrice / campaign.originalPrice) * 100)}%OFF</span>
                        </div>
                    ` : ''}
                    <div class="campaign-tags">
                        ${campaign.tags.split(',').map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}
                    </div>
                    <a href="company.html#booking" class="btn btn-primary">‰ªä„Åô„Åê‰∫àÁ¥Ñ</a>
                </div>
            </div>
        `).join('');
    } else if (staticContainer) {
        staticContainer.style.display = 'grid';
        if (dynamicContainer) dynamicContainer.style.display = 'none';
    }
}

// „Çπ„Çø„ÉÉ„Éï„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞
function updateStaffPage() {
    const data = loadAdminData();
    const staff = data.staff;
    console.log('üë• Updating staff page with admin data');

    const staffGrid = document.querySelector('.staff-grid, .staff-list');
    if (staffGrid && staff.length > 0) {
        staffGrid.innerHTML = staff.map(member => `
            <div class="staff-card">
                <div class="staff-image">
                    <img src="${member.photo || 'images_about/default-staff.jpg'}" alt="${member.name}" loading="lazy">
                </div>
                <div class="staff-info">
                    <h3>${member.name}</h3>
                    <p class="staff-role">${member.role}</p>
                    <p class="staff-experience">ÁµåÈ®ìÂπ¥Êï∞: ${member.experience}Âπ¥</p>
                    <p class="staff-specialties">Â∞ÇÈñÄ: ${member.specialties}</p>
                    <div class="staff-rating">Ë©ï‰æ°: ${member.rating}/5.0 ‚≠ê</div>
                    <p class="staff-bio">${member.bio}</p>
                    ${member.reviews && member.reviews.length > 0 ? `
                        <div class="staff-reviews">
                            <h4>„ÅäÂÆ¢Êßò„ÅÆÂ£∞</h4>
                            ${member.reviews.map(review => `<blockquote>"${review}"</blockquote>`).join('')}
                        </div>
                    ` : ''}
                </div>
            </div>
        `).join('');
    }
}

// „Çµ„Éº„Éì„Çπ„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞
function updateServicesPage() {
    const data = loadAdminData();
    const services = data.services;
    console.log('üíÖ Updating services page with admin data');

    const servicesContainer = document.querySelector('.services-grid, .services-list, .menu-list');
    if (servicesContainer && services.length > 0) {
        const groupedServices = services.reduce((acc, service) => {
            const category = service.category || '„Åù„ÅÆ‰ªñ';
            if (!acc[category]) acc[category] = [];
            acc[category].push(service);
            return acc;
        }, {});

        let servicesHtml = '';
        Object.keys(groupedServices).forEach(category => {
            servicesHtml += `
                <div class="service-category">
                    <h3 class="category-title">${category}</h3>
                    <div class="service-items">
                        ${groupedServices[category].map(service => `
                            <div class="service-item">
                                <div class="service-header">
                                    <h4>${service.name}</h4>
                                    <div class="price">¬•${service.price.toLocaleString()}${service.priceNote || ''}</div>
                                </div>
                                <p class="service-description">${service.description}</p>
                                ${service.features ? `
                                    <div class="service-features">
                                        ${service.features.split('\n').map(feature => `
                                            <span class="feature">‚úì ${feature.trim()}</span>
                                        `).join('')}
                                    </div>
                                ` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        });

        servicesContainer.innerHTML = servicesHtml;
    }
}

// About/‰ºöÁ§æÊ¶ÇË¶Å„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞
function updateAboutPage() {
    const data = loadAdminData();
    console.log('‚ÑπÔ∏è Updating about page with admin data');

    if (data.settings && data.settings.contact) {
        const contact = data.settings.contact;

        // ÈÄ£Áµ°ÂÖàÊÉÖÂ†±„ÅÆÊõ¥Êñ∞
        const phoneElements = document.querySelectorAll('.phone, .contact-phone, .tel');
        phoneElements.forEach(el => {
            if (contact.phone) el.textContent = contact.phone;
        });

        const emailElements = document.querySelectorAll('.email, .contact-email');
        emailElements.forEach(el => {
            if (contact.email) el.textContent = contact.email;
        });

        const addressElements = document.querySelectorAll('.address, .contact-address');
        addressElements.forEach(el => {
            if (contact.address) el.textContent = contact.address;
        });

        const hoursElements = document.querySelectorAll('.hours, .business-hours, .opening-hours');
        hoursElements.forEach(el => {
            if (contact.hours) el.textContent = contact.hours;
        });
    }

    // „Çµ„É≠„É≥Âêç„ÅÆÊõ¥Êñ∞
    if (data.settings && data.settings.siteName) {
        const siteNameElements = document.querySelectorAll('.site-name, .salon-name, .company-name');
        siteNameElements.forEach(el => {
            el.textContent = data.settings.siteName;
        });
    }
}

// „ÅäÁü•„Çâ„Åõ„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆÊõ¥Êñ∞ÔºàÂÖ®„Éö„Éº„Ç∏ÂÖ±ÈÄöÔºâ
function updateNewsSection() {
    const data = loadAdminData();
    const news = data.news.slice(0, 3);

    const newsContainer = document.querySelector('.news-section .news-list, .news-container, .latest-news');
    if (newsContainer && news.length > 0) {
        newsContainer.innerHTML = news.map(item => `
            <div class="news-item ${item.featured ? 'featured' : ''}">
                <div class="news-date">${formatDate(item.publishedAt)}</div>
                <div class="news-content">
                    <h4>${item.title}</h4>
                    <p>${item.content}</p>
                </div>
            </div>
        `).join('');
    }
}

// ÂÖ®„Éö„Éº„Ç∏ÂÖ±ÈÄöË¶ÅÁ¥†„ÅÆÊõ¥Êñ∞
function updateCommonElements() {
    const data = loadAdminData();
    console.log('üîó Updating common elements');

    if (data.settings) {
        // „Çµ„Ç§„ÉàÂêç„ÅÆÊõ¥Êñ∞Ôºà„Éò„ÉÉ„ÉÄ„Éº„Éª„Éï„ÉÉ„Çø„ÉºÔºâ
        if (data.settings.siteName) {
            const siteNameElements = document.querySelectorAll('header .logo, .header-title, .footer-title, title');
            siteNameElements.forEach(el => {
                if (el.tagName === 'TITLE') {
                    el.textContent = `${data.settings.siteName} - ÁæéÂÆπÂÆ§`;
                } else {
                    el.textContent = data.settings.siteName;
                }
            });
        }

        // ÈÄ£Áµ°ÂÖàÊÉÖÂ†±„ÅÆÊõ¥Êñ∞Ôºà„Éï„ÉÉ„Çø„Éº„Éª„Éò„ÉÉ„ÉÄ„ÉºÔºâ
        if (data.settings.contact) {
            const contact = data.settings.contact;

            const footerPhone = document.querySelector('.footer-phone, footer .phone');
            if (footerPhone && contact.phone) footerPhone.textContent = contact.phone;

            const footerEmail = document.querySelector('.footer-email, footer .email');
            if (footerEmail && contact.email) footerEmail.textContent = contact.email;

            const footerAddress = document.querySelector('.footer-address, footer .address');
            if (footerAddress && contact.address) footerAddress.textContent = contact.address;
        }
    }
}

// Êó•‰ªò„Éï„Ç©„Éº„Éû„ÉÉ„ÉàÈñ¢Êï∞
function formatDate(dateStr) {
    try {
        const date = new Date(dateStr);
        return date.toLocaleDateString('ja-JP', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    } catch (error) {
        return dateStr;
    }
}

// „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´ÂÆüË°å
document.addEventListener('DOMContentLoaded', function() {
    console.log('üîÑ Complete Admin integration loading...');

    // ÂÖ®„Éö„Éº„Ç∏ÂÖ±ÈÄöË¶ÅÁ¥†„ÇíÊúÄÂàù„Å´Êõ¥Êñ∞
    updateCommonElements();

    // ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„Å´Âøú„Åò„Å¶ÈÅ©Âàá„Å™Êõ¥Êñ∞Èñ¢Êï∞„ÇíÂÆüË°å
    const currentPage = window.location.pathname.split('/').pop() || 'index.html';
    console.log(`üìÑ Current page: ${currentPage}`);

    switch (currentPage) {
        case 'index.html':
        case '':
            updateHomePage();
            break;
        case 'campaign.html':
            updateCampaignPage();
            updateNewsSection();
            break;
        case 'staff.html':
            updateStaffPage();
            updateNewsSection();
            break;
        case 'services.html':
            updateServicesPage();
            updateNewsSection();
            break;
        case 'about.html':
        case 'company.html':
            updateAboutPage();
            updateNewsSection();
            break;
        default:
            // „Åô„Åπ„Å¶„ÅÆ„Éö„Éº„Ç∏„Åß„ÅäÁü•„Çâ„Åõ„Çª„ÇØ„Ç∑„Éß„É≥„Åå„ÅÇ„Çå„Å∞Êõ¥Êñ∞
            updateNewsSection();
            break;
    }

    console.log('‚úÖ Complete Admin integration finished');
});

// „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
window.SalonIntegration = {
    loadAdminData,
    updateHomePage,
    updateCampaignPage,
    updateStaffPage,
    updateServicesPage,
    updateAboutPage,
    updateNewsSection,
    updateCommonElements,
    // ÊâãÂãïÊõ¥Êñ∞Áî®
    refreshAll: function() {
        updateCommonElements();
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        switch (currentPage) {
            case 'index.html':
            case '':
                updateHomePage();
                break;
            case 'campaign.html':
                updateCampaignPage();
                break;
            case 'staff.html':
                updateStaffPage();
                break;
            case 'services.html':
                updateServicesPage();
                break;
            case 'about.html':
            case 'company.html':
                updateAboutPage();
                break;
        }
        updateNewsSection();
    }
};

console.log('‚úÖ Complete Admin integration script loaded successfully');